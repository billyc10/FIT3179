{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "height": 300,
    "width": 500,
    "title": "Fatalities Across The Day",
    "data": {"url": "https://billyc10.github.io/FIT3179/data/fatal_crashes_vic.csv"},
    "encoding": {
        "x": {
            "field": "TIME",
            "type": "ordinal",
            "title": "Hour (24h time)",
            "axis": {"titleFontSize": 14, "labelFontSize": 12},
            "sort": [
                "0:00", "1:00", "2:00", "3:00","4:00", "5:00", "6:00",
                "7:00", "8:00", "9:00", "10:00", "11:00", "12:00", "13:00",
                "14:00", "15:00", "16:00", "17:00", "18:00", "19:00", "20:00",
                "21:00", "22:00", "23:00"
            ]
        },
        "y": {
            "aggregate":"count",
            "title": "Fatal accidents",
            "axis": {"titleFontSize": 14, "labelFontSize": 12}
        }
    },
    "layer": [
        {
            "mark": {
                "type": "bar",
                "width": {"band": 1.1},
                "color": "#db646f"
              },
              "encoding": {
                "x": {
                    "field": "TIME",
                    "type": "ordinal",
                    "title": "Time (24h)",
                    "axis": {"titleFontSize": 14, "labelFontSize": 12}
                },
                "y": {
                    "aggregate":"count",
                    "title": "Fatal accidents",
                    "axis": {"titleFontSize": 14, "labelFontSize": 12}
                },
                "tooltip": [
                    {"field": "TIME", "title": "Time"},
                    {"aggregate": "count", "title": "Fatalities in this hour"}
                ]

              }
        },
        {
            "transform": [
                {"filter": "datum.TIME == \"16:00\" || datum.TIME == \"15:00\""}
            ],
            "mark": {
                "type": "bar",
                "width": {"band": 1.1},
                "color": "#99000d"
              },
              "encoding": {
                "x": {
                    "field": "TIME",
                    "type": "ordinal",
                    "title": "Time (24h)",
                    "axis": {"titleFontSize": 14, "labelFontSize": 12}
                },
                "y": {
                    "aggregate":"count",
                    "title": "Fatal accidents",
                    "axis": {"titleFontSize": 14, "labelFontSize": 12}
                },
                "tooltip": [
                    {"field": "TIME", "title": "Time"},
                    {"aggregate": "count", "title": "Fatalities in this hour"}
                ]

              }
        }
    ],
    "config": {
        "title": {
          "fontSize": 20,
          "fontWeight": 600
        }
    }
  }